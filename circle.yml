machine:
  java:
    version: openjdk7

checkout:
  post:
    - git submodule sync
    - git submodule update --init

dependencies:
  pre:
    - npm install
    - pip install six
    - cd vendors/closure-linter/ && python ./setup.py install
    - chmod +x vendors/closure-linter/closure_linter/gjslint.py
    - chmod +x vendors/closure-linter/closure_linter/fixjsstyle.py

  override:
    - npm run closure-lint

  post:
    - npm run build:closure-compiler
    - npm run build
